<div id="img-content">
  <img id="navImg" width="800" height="800" style="position: absolute;z-index: 1;width:100%; height:100%;" src="{$img[0]['url']}" onclick="changeSrcImg('forward');">
    <img class="fleche" style="left:5%;top:45%" src="./assets/imgs/fleche_grise.png">Flèche gauche</img>
    <img class="fleche" style="right:5%;top:45%" src="./assets/imgs/fleche_grise.png">Flèche droite</img>
    <img class="fleche" style="left:45%;top:5%" src="./assets/imgs/fleche_grise.png">Flèche haut</img>
    <img class="fleche" style="left:45%;bottom:5%" src="./assets/imgs/fleche_grise.png">Flèche bas</img>
  </img>
</img>
</div>
<script language="javascript">
  var imgIndex = 0;

  function changeSrcImg(direction) {
    var encodedImg = {$encoded_img};
    var currentObj = encodedImg[imgIndex];
    for (var i = 0; i<encodedImg.length; i++) {
      var obj = encodedImg[i];
      if(obj.id == currentObj[direction]) {
        currentObj = obj;
        imgIndex = i;
        break;
      }
    }
    document.getElementById("navImg").src = currentObj.url;
  }
</script>
